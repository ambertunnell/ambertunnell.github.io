
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Writing beautiful code with haml - amber tunnell</title>
  <meta name="author" content="Amber Tunnell">

  
  <meta name="description" content="The more I code, the more I think of coding as an art form. Good code is easy to read by other humans, efficient, and easily adaptable. But great &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://ambertunnell.github.io/blog/2014/07/18/writing-beautiful-code-with-haml">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="http://feeds.feedburner.com/ambertunnell" rel="alternate" title="amber tunnell" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Handlee' rel='stylesheet' type='text/css'>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-53821540-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<!-- <body    class="collapse-sidebar sidebar-footer" > -->

<body>
  <header role="banner">
	<div class="header-title"><a href="/">amber tunnell</a></div>


	<br><div class="header-subtitle">puts 'my thoughts on the magic that is code'</div>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://feeds.feedburner.com/ambertunnell" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:ambertunnell.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">@blog</a></li>
  <li><a href="/blog/archives">@archives</a></li>
  <li><a href="/blog/about">@about</a></li>
  <li><a href="/blog/projects">@projects</a></li>
</ul>

</nav>
    <div id="main">
      <div id="content">
    <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Writing beautiful code with haml</h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-07-18T00:25:50-04:00" pubdate data-updated="true">Jul 18<span>th</span>, 2014</time>
        
           | <a href="#disqus_thread"
             data-disqus-identifier="http://ambertunnell.github.io">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>The more I code, the more I think of coding as an art form. Good code is easy to read by other humans, efficient, and easily adaptable. But great code is also elegant. When you look at a great piece of code, it feels <em>right</em>. Similarly, poorly written code, while often functional, just feels wrong and frustrating to look at.</p>

<p>Writing view templates using <a href="http://en.wikipedia.org/wiki/ERuby">ERB</a>, the default Rails templating language, has always seemed unnecessarily messy to me. ERB tags do not flow well with Ruby code or HTML tags. They are time-consuming to write in code. You also cannot use the <code>command-slash</code> commenting shortcut in Sublime Text with them; you must comment out each line of Ruby code separately (which makes them even more time-consuming to maintain).</p>

<p>Therefore, I was delighted when I discovered <a href="http://haml.info/">HAML (HTML abstraction markup language)</a>. A markup language that was designed to replace messy ERB templates with simpler, cleaner design. Why? Because markup should be beautiful.</p>

<!-- more -->


<p>While this idea may seem crazy to certain people, just take a look at the following basic forms, one written in basic HTML and one in HAML.</p>

<figure class='code'><figcaption><span>basic form_for with erb </span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="err">&lt;</span>%= form_for(@post) do |f| %&gt;
</span><span class='line'>
</span><span class='line'>  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;field&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="err">&lt;</span>%= f.label :name %&gt;
</span><span class='line'>    <span class="err">&lt;</span>%= f.text_field :name %&gt;
</span><span class='line'>    <span class="err">&lt;</span>%= f.label :content %&gt;
</span><span class='line'>    <span class="err">&lt;</span>%= f.text_area :content %&gt;
</span><span class='line'>  <span class="nt">&lt;/div&gt;</span>
</span><span class='line'>
</span><span class='line'>  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;field&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="err">&lt;</span>%= f.collection_check_boxes :tag_ids, Tag.all, :id, :name %&gt;
</span><span class='line'>  <span class="nt">&lt;/div&gt;</span>
</span><span class='line'>
</span><span class='line'>  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;field&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="err">&lt;</span>%= f.fields_for :tags, Tag.new do |tag_form| %&gt;
</span><span class='line'>      <span class="err">&lt;</span>%= tag_form.label :name, &quot;Name&quot; %&gt;
</span><span class='line'>      <span class="err">&lt;</span>%= tag_form.text_field :name  %&gt;
</span><span class='line'>    <span class="err">&lt;</span>% end %&gt;
</span><span class='line'>  <span class="nt">&lt;/div&gt;</span>
</span><span class='line'>
</span><span class='line'>  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;actions&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="err">&lt;</span>%= f.submit %&gt;
</span><span class='line'>  <span class="nt">&lt;/div&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="err">&lt;</span>% end %&gt;
</span></code></pre></td></tr></table></div></figure>


<p>Here is the same exact form using HAML instead of ERB:</p>

<figure class='code'><figcaption><span>basic form_for with haml</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">=</span> <span class="n">form_for</span><span class="p">(</span><span class="vi">@post</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">f</span><span class="o">|</span>
</span><span class='line'>  <span class="o">.</span><span class="n">field</span>
</span><span class='line'>    <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">label</span> <span class="ss">:name</span>
</span><span class='line'>    <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">text_field</span> <span class="ss">:name</span>
</span><span class='line'>    <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">label</span> <span class="ss">:content</span>
</span><span class='line'>    <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">text_area</span> <span class="ss">:content</span>
</span><span class='line'>  <span class="o">.</span><span class="n">field</span>
</span><span class='line'>    <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">collection_check_boxes</span> <span class="ss">:tag_ids</span><span class="p">,</span> <span class="no">Tag</span><span class="o">.</span><span class="n">all</span><span class="p">,</span> <span class="ss">:id</span><span class="p">,</span> <span class="ss">:name</span>
</span><span class='line'>  <span class="o">.</span><span class="n">field</span>
</span><span class='line'>    <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">fields_for</span> <span class="ss">:tags</span><span class="p">,</span> <span class="no">Tag</span><span class="o">.</span><span class="n">new</span> <span class="k">do</span> <span class="o">|</span><span class="n">tag_form</span><span class="o">|</span>
</span><span class='line'>      <span class="o">=</span> <span class="n">tag_form</span><span class="o">.</span><span class="n">label</span> <span class="ss">:name</span><span class="p">,</span> <span class="s2">&quot;Name&quot;</span>
</span><span class='line'>      <span class="o">=</span> <span class="n">tag_form</span><span class="o">.</span><span class="n">text_field</span> <span class="ss">:name</span>
</span><span class='line'>  <span class="o">.</span><span class="n">actions</span>
</span><span class='line'>    <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">submit</span>
</span></code></pre></td></tr></table></div></figure>


<p></p>

<p>That&rsquo;s 44 percent fewer lines of code, with a cleaner and more elegant design that also took less time to write. You can also comment out the entire section with one command, if desired. (No more commenting out individual ERB lines again!)</p>

<h2>major pros</h2>

<h4>Elegance.</h4>

<p>It&rsquo;s shorter, cleaner, and way more beautiful than HTML.</p>

<h4>Faster.</h4>

<p>No more time wasted writing those useless closing tags! No more time wasted commenting out separate lines of code! Allows developers to produce awesome projects faster.</p>

<h4>Closely related to CSS.</h4>

<p>Your HTML code becomes more clearly associated with its CSS. Most useless HTML tags are gone, leaving simply the CSS relationships.</p>

<h4>Whitespace sensitive.</h4>

<p>Everybody must have the same indentations and code form. This will force coders to adhere to standard practices, guaranteeing that others will be able to easily read their code.</p>

<h2>major cons</h2>

<h4>Whitespace sensitive.</h4>

<p>You have to be extra careful with how you indent and write your code. This can be particularly frustrating for some people who would prefer not to have to follow a certain indentation practice or have to worry about whitespace. It can also be extremely hard to debug, since it&rsquo;s not always obvious if there&rsquo;s an extra whitespace in your code since you can&rsquo;t see it!</p>

<h4>Processing speed.</h4>

<p>According to <a href="http://sephinrothcn.wordpress.com/2014/04/14/slim-vs-haml-performance-perspective/">this person</a>, HAML has a slightly slower processing speed than ERB (and SLIM, another markup language focusing on elegant design.)</p>

<h4>Cost of change.</h4>

<p>Most people know HTML. Most people do not know HAML. It takes a bit of time to learn, when you can do the same things in HTML that you can do in HAML.</p>

<h2>change can be frustrating</h2>

<p>&hellip;but it doesn&rsquo;t have to be!</p>

<p>Fortunately, if you do want to use HAML on a project going forward, there are handy websites like <a href="http://html2haml.heroku.com/">Html2Haml</a> that will instantly convert ERB templates to HAML, hassle-free.</p>

<p>Just make sure you <code>gem install haml</code> and require HAML in your project.</p>

<p>You can also create a new Rails app that uses HAML automatically with this command:</p>

<p><code>rails new myapp -m https://raw.github.com/RailsApps/rails-composer/master/composer.rb</code></p>

<p>After you run this command, you will be prompted for several preferences, including templating engine. Then, you can select ERB, HAML, or SLIM. If you choose HAML, it will automatically create your view files with the <code>.html.haml</code> extension.</p>

<p>Now go and produce prettier code with HAML!</p>

<h3>Additional Resources:</h3>

<p><li><a href="https://rubygems.org/gems/haml">Haml gem on RubyGems</a></li>
<li><a href="http://haml.info/">Haml website</a></li>
<li>Online HAML conversion: <a href="http://html2haml.heroku.com/">Html2haml</a></li>
<li><a href="http://slim-lang.com/">Slim website</a></li>
<li>Online SLIM conversion: <a href="http://html2slim.herokuapp.com/">Html2slim</a></li>
<li><a href="http://sephinrothcn.wordpress.com/2014/04/14/slim-vs-haml-performance-perspective/">Study on ERB, HAML, SLIM processing speed</a></li></p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Amber Tunnell</span></span>

      








  


<time datetime="2014-07-18T00:25:50-04:00" pubdate data-updated="true">Jul 18<span>th</span>, 2014</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/haml/'>haml</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://ambertunnell.github.io/blog/2014/07/18/writing-beautiful-code-with-haml/" data-via="ambertunnell" data-counturl="http://ambertunnell.github.io/blog/2014/07/18/writing-beautiful-code-with-haml/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      <div class="about">
<!--      <span class="about-image">
          <img src="/images/author.jpg" alt="author name">
     </span> -->
     <span class="about-desc">
          <span>Amber is a web developer in New York who believes in creating beautiful, interactive stories through code. She is a lover of good coffee, good books, and good code.</span>
          <br>
          <a href="https://twitter.com/ambertunnell" class="twitter-follow-button" data-show-count="false" data-size="large">Follow @ambertunnell</a>
     </span>
</div>
    </p>
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2014/06/29/analyzing-instance-variables-in-ruby/" title="Previous Post: Analyzing instance variables in Ruby">&laquo; Analyzing instance variables in Ruby</a>
      
      
        <a class="basic-alignment right" href="/blog/2014/08/20/bubble-sort/" title="Next Post: Sorting Algorithms Series: Bubble Sort">Sorting Algorithms Series: Bubble Sort &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>about</h1>
  <center><img style="width: 50%; border-radius: 200px; margin:5px" src="/images/ambertunnell.jpg"></center>
  <p style="margin-bottom: 5px; display:inline;">Full stack web developer in New York City. </p><a href="/blog/about" style="display:inline;"> More.</a>
</section>
<section>
  <h1>recent posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/10/06/all-of-the-javascript-basic-terms-and-concepts-for-beginners/">All of the JavaScript: Basic terms and concepts for beginners</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/08/23/insertion-sort/">Sorting Algorithms Series: Insertion Sort</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/08/20/bubble-sort/">Sorting Algorithms Series: Bubble Sort</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/07/18/writing-beautiful-code-with-haml/">Writing beautiful code with haml</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/06/29/analyzing-instance-variables-in-ruby/">Analyzing instance variables in Ruby</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>categories</h1>
  <ul id="categories">
    <li class='category'><a href='/blog/categories/computer-science/'>computer science (2)</a></li>
<li class='category'><a href='/blog/categories/haml/'>haml (1)</a></li>
<li class='category'><a href='/blog/categories/javascript/'>javascript (1)</a></li>
<li class='category'><a href='/blog/categories/ruby/'>ruby (3)</a></li>
<li class='category'><a href='/blog/categories/sorting-algorithms/'>sorting algorithms (2)</a></li>

  </ul>
</section><section>
<h1>found on</h1>

  <div class="social-media-section">
      <a href="https://github.com/ambertunnell" class="social-media-icon github" rel="tooltip" title="Github" target="_blank"><i class="social_media fa fa-github fa-2x"></i></A>
      <a href="http://stackoverflow.com/users/3826943/amber-tunnell" class="social-media-icon stackoverflow" rel="tooltip" title="Stack Overflow" target="_blank"><i class=" social_media fa fa-stack-overflow fa-2x"></i></A>
      <a href="https://careers.stackoverflow.com/ambertunnell" class="social-media-icon" class="social-media-icon" rel="tooltip" title="Stack Overflow Careers" target="_blank"><i class="social_media fa fa-stack-exchange fa-2x"></i></A>
      <a href="https://linkedin.com/in/ambertunnell/" class="linkedin" class="social-media-icon" rel="tooltip" title="Linkedin" target="_blank"><i class="social_media fa fa-linkedin fa-2x"></i></A>
      <a href="https://twitter.com/ambertunnell" class="twitter" class="social-media-icon" rel="tooltip" title="Twitter" target="_blank"><i class="social_media fa fa-twitter fa-2x"></i></A>
      <a href="https://www.behance.net/ambertunnell" class="social-media-icon" rel="tooltip" title="Behance" target="_blank"><i class="social_media fa fa-behance fa-2x"></i></A>
      <a href="http://combustingstar.deviantart.com/" class="social-media-icon" rel="tooltip" title="Deviantart" target="_blank"><i class="social_media fa fa-deviantart fa-2x"></i></A>
      <a href="http://instagram.com/ambertunnell" class="social-media-icon" rel="tooltip" title="Instagram" target="_blank"><i class="social_media fa fa-instagram fa-2x"></i></A>
 </div>   
</section>

<section>
  
  <h1>email me</h1>
  <a href="mailto:amber.tunnell@gmail.com">amber.tunnell@gmail.com</a>
  
</section>

  
</aside>


        </div>
      </div>
    </div>
    <footer role="contentinfo"><p>
  Copyright &copy; 2014 -  Amber Tunnell <br/>
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a> + <a href="https://github.com/ioveracker/mnml">mnml</a>.
	  
  </span>
</p>

</footer>
    

<script type="text/javascript">
      var disqus_shortname = 'ambertunnelloctoblog';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://ambertunnell.github.io/blog/2014/07/18/writing-beautiful-code-with-haml/';
        var disqus_url = 'http://ambertunnell.github.io/blog/2014/07/18/writing-beautiful-code-with-haml/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>



  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-53821540-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>





  </div>
  <!-- hides sidebar when collapsed -->
<script> $(document).ready(function(){  
  $(".toggle-sidebar").click(function(){
    $("aside.thirds").toggle();
  });
});</script>
</body>
</html>
